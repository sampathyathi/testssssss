<!DOCTYPE html><html lang="en"><head><link rel="shortcut icon" href="/images/favicon.ico"><meta charset="utf-8"><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"><link href="/styles/theme.css" rel="stylesheet" type="text/css"><script src="/scripts/theme.js" type="text/javascript"></script><title>Wiki: Widget anatomy - Paperbits - Drag 'n' drop content builder for web apps</title><meta name="description" content="Give your users a tool to create professional web pages, forms, email templates and more."><meta name="keywords" content="page builder, content builder, website builder, drag &amp; drop, open source"><meta name="author" content="Paperbits"><link href="/styles/styles.css" rel="stylesheet" type="text/css"><meta property="og:type" content="article"><meta property="og:site_name" content="Paperbits - Drag 'n' drop content builder for web apps"><meta property="og:title" content="Wiki: Widget anatomy"><meta property="og:description" content="Give your users a tool to create professional web pages, forms, email templates and more."><meta property="og:url" content="https://paperbits.io/wiki/widget-anatomy"><link href="/wiki/widget-anatomy/styles.css" rel="stylesheet" type="text/css"></head><body class="block"><div class="flex flex-column flex-grow fill"><div class="popup-host"><div class="popup lvkmkbreap block" id="popupsmain-menu-popup"><div class="popup-container"><nav class="inline-block"><div class="menu menu-vertical menu-default"><ul class="nav"><li class="nav-item"><a href="https://demo.paperbits.io" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Demo</a></li><li class="nav-item"><a href="/wiki/getting-started" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Get started</a></li><li class="nav-item"><a href="/features" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Features</a></li><li class="nav-item"><a href="/blog" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Blog</a></li><li class="nav-item"><a href="/license" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">License</a></li><li class="nav-item"><a href="https://github.com/paperbits" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Github</a></li></ul></div></nav><button data-dismiss="modal" class="button button-no-border main-menu-dismiss"><span data-bind="text: label">✕</span></button></div></div></div><section class="ageyqoqnwb"><div class="xboxgtbxvj xboxgtbxvj-md xboxgtbxvj-xl xboxgtbxvj-sm xboxgtbxvj-lg"><div class="lymghbpiis lymghbpiis-md lymghbpiis-lg lymghbpiis-xl" role="article"><a class="inline-block" href="/" target="undefined"><img class="content picture picture-default" src="/images/logo.svg" alt="Logo"></a><nav class="inline-block"><div class="menu menu-horizontal menu-default rjzdwlqkeo rjzdwlqkeo-md"><ul class="nav"><li class="nav-item"><a href="https://demo.paperbits.io" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Demo</a></li><li class="nav-item"><a href="/wiki/getting-started" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Get started</a></li><li class="nav-item"><a href="/features" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Features</a></li><li class="nav-item"><a href="/blog" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Blog</a></li><li class="nav-item"><a href="/license" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">License</a></li><li class="nav-item"><a href="https://github.com/paperbits" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Github</a></li></ul></div></nav><a role="button" data-toggle="popup" data-trigger-event="undefined" data-target="#popupsmain-menu-popup" href="javascript:void(0)" class="button button-no-border jeveycjhsj jeveycjhsj-md"><span data-bind="text: label">☰</span></a></div></div></section><section class="oevfwkwgiz oevfwkwgiz-xl"><div class="dcpmrieueo dcpmrieueo-md dcpmrieueo-xl dcpmrieueo-sm dcpmrieueo-lg"><div class="bfyoqighbi bfyoqighbi-md bfyoqighbi-xl" role="aside"><nav class="inline-block"><div class="menu menu-vertical menu-default"><ul class="nav"><li class="nav-item"><a href="/wiki/getting-started" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Getting started</a></li><li class="nav-item"><a href="/wiki/widget-anatomy" class="nav-link nav-link-active" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Widget anatomy</a><ul class="nav"><li class="nav-item"><a href="#65gjF" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">What is widget?</a></li><li class="nav-item"><a href="#22nPX" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">@Component decorator</a></li><li class="nav-item"><a href="#uGTRK" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Lifecycle hooks</a></li><li class="nav-item"><a href="#nlHGf" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Dependency injection</a></li><li class="nav-item"><a href="#AZkSo" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Data contract, Model, ModelBinder, ViewModelBinder</a></li><li class="nav-item"><a href="#ysN0U" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Design-time, publish-time, run-time</a></li></ul></li><li class="nav-item"><a href="/wiki/ui-frameworks" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">UI frameworks</a></li><li class="nav-item"><a href="/wiki/forms" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Forms module</a></li><li class="nav-item"><a href="/wiki/build-system" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Build system</a></li><li class="nav-item"><a href="/wiki/styles" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Styles module</a></li></ul></div></nav></div><div class="ybzuxpqczk ybzuxpqczk-md ybzuxpqczk-xl" role="main"><div class="flex flex-column flex-grow fill block"><section><div class="vfkzttvgoj"><div class="ielplpinko" role="article"><div class="ProseMirror"><h1 id="ht8SM">Widget anatomy</h1><h2 id="65gjF">What is widget?</h2><p>A widget in Paperbits is a UI component consisting of a view template and view model behind it. Depending on the UI framework you use (Knockout, Vue, Angular or the other), both template syntax and view model implementation may vary.</p><p>In the simplest form the parts of a widget would look like the following:</p><p><b>HTML (template)</b></p><pre>&lt;h1&gt;My component&lt;/h1&gt;</pre><p><b>Typescript (view model)</b></p><pre>class MyComponent { }</pre><p>... and used like this:</p><pre>&lt;my-component&gt;&lt;/my-component&gt;</pre><h2 id="22nPX">@Component decorator</h2><p>Besides binding a view model to its template, this decorator simplifies registration of a component in UI framework. The usage of the decorator is straightforward and looks similarly for different UI frameworks:</p><pre>@Component({<br>    selector: "my-component",<br>    template: "&lt;h1&gt;My component&lt;/h1&gt;"<br>})<br>export class MyComponent {<br>    constructor(someService: SomeService) { ... }<br>}</pre><p>The only difference is the path from where it gets imported:</p><p><b>Knockout</b></p><pre>import { Component } from "@paperbits/core/ko/component";</pre><p><b>Vue</b></p><pre>import { Component } from "@paperbits/core/vue/component";</pre><p><b>Angular</b></p><pre>import { Component } from "@angular/core/component";</pre><h2 id="uGTRK">Lifecycle hooks</h2><p>Now, when you know how to declare a component, it’s good to know about a few hooks responsible for the lifecycle of the component.</p><h3 id="mLdtb">Initialization methods</h3><p>They are invoked right after a component instance was created. All the input parameters (see below) are available at this time.</p><p><b>Knockout</b></p><pre>@OnMounted()<br>public async initialize(): Promise&lt;void&gt; {<br>   // Your initialization code<br>}</pre><p><b>Vue</b></p><pre>@OnMounted()<br>public async initialize(): Promise&lt;void&gt; {<br>   // Your initialization code<br>}</pre><p><b>Angular</b></p><pre>public async ngOnInit(): Promise&lt;void&gt; {<br>   // Your initialization code<br>}</pre><h3 id="F4GCr">Input parameters</h3><p>This is data passed into a component from its host.</p><p><b>Knockout</b></p><pre>@Param()<br>public message: string;</pre><p>Binding the parameter:</p><pre>&lt;component [message]="message"&gt;&lt;/component&gt;</pre><p><b>Vue</b></p><pre>@Prop()<br>public message: string;</pre><p>Binding the parameter:</p><pre>&lt;component v-bind:message="message"&gt;&lt;/component&gt;</pre><p><b>Angular</b></p><pre>@Input()<br>public message: string;</pre><p>Binding the parameter:</p><pre>&lt;component params="onChange: doSomething"&gt;&lt;/component&gt;</pre><h3 id="LoSPC">Events</h3><p>These are callbacks used to notify the component host when needed.</p><p><b>Knockout</b></p><pre>@Event()<br>public onChange: (model: ButtonModel) =&gt; void;</pre><p>Emitting the event:</p><pre>this.onChange(model);</pre><p>Subscribing for the event:</p><pre>&lt;component v-on:onChange="doSomething"&gt;&lt;/component&gt;</pre><p><b>Vue</b></p><pre>@Event()<br>public onChange: (model: ButtonModel) =&gt; void;</pre><p>Emitting the event:</p><pre>this.onChange(model);</pre><p>Subscribing for the event:</p><pre>&lt;component v-on:onChange="doSomething"&gt;&lt;/component&gt;</pre><p><b>Angular</b></p><pre>@Output()<br>public onChange: EventEmitter&lt;ButtonModel&gt;;</pre><p>Emitting the event:</p><pre>this.onChange.emit(model);</pre><p>Subscribing for the event:</p><pre>&lt;component (onChange)="doSomething()"&gt;&lt;/component&gt;</pre><h3 id="vV0kv">Cleanup methods</h3><p>They are invoked right before component instance gets destroyed.</p><p><b>Knockout</b></p><pre>@OnDestroyed()<br>public async dispose(): Promise&lt;void&gt; {<br>   // Your cleanup code<br>}</pre><p><b>Vue</b></p><pre>@OnDestroyed()<br>public async dispose(): Promise&lt;void&gt; {<br>   // Your cleanup code<br>}</pre><p><b>Angular</b></p><pre>public async ngOnDestroy(): Promise&lt;void&gt; {<br>   // Your cleanup code<br>}</pre><p></p><h2 id="nlHGf">Dependency injection</h2><p>For Inversion of Control (IoC), by default, we use <a href="http://inversify.io/" rel="noopener noreferrer">InversifyJS </a>which is greatly suitable for applications powered by TypeScript. Though, you're welcome to replace it with any other you like.</p><p>If you went through "Getting started" tutorial, you have probably seen in startup.design.ts file how we import and instantiate a container:</p><pre>@import { InversifyInjector } from "@paperbits/common/injection";<br>cost injector = new InversifyInjector();</pre><p>... and register components:</p><pre>injector.bind("myComponent", MyComponent);</pre><p>... or modules:</p><pre>injector.bindModule(new CoreModule());</pre><p>Then, when the container is ready, we can resolve components:</p><pre>const instance = injector.resolve("myComponent");</pre><h2 id="AZkSo">Data contract, Model, ModelBinder, ViewModelBinder</h2><p><b>Data contract</b> - is an interface for a raw JSON data object that represents configuration of a widget or a service (and which gets usually stored on the backend). For example:</p><pre>interface PictureContract {<br>    /**<br>     * Key of a permalink referencing a source of the picture.<br>     */<br>    sourceKey: string;<br><br>    /**<br>     * Caption on the picture, used also as alternative text.<br>     */<br>    caption: string; // "blank"<br>}</pre><p><b>Model</b> - is a class that represents a structure fulfilled with data from one or more Contracts and other sources.</p><pre>class PictureModel {<br>    sourceKey: string;<br>    caption: string;<br>}</pre><p><b>View model </b>- is a structure that represents the component in specific UI framework. For example:</p><p><b>Knockout</b></p><pre>@Component({ selector: "picture" })<br>class PictureViewModel {<br>    sourceUrl: KnockoutObservable&lt;string&gt;; // Note that here source key was replaced by real URL.<br>    caption:  KnockoutObservable&lt;string&gt;;<br>}</pre><pre>&lt;img data-bind="attr: { src: sourceUrl, alt: caption }" /&gt;</pre><p><b>Vue</b></p><pre>@Component({ selector: "picture" })<br>class PictureViewModel {<br>    sourceUrl: string;<br>    caption: string;<br>}</pre><pre>&lt;img v-bind:src="sourceUrl" v-bind:alt="caption" &gt;</pre><p>As you might have guessed, the transformation of the data contract into a model is done by ModelBinder, and model data flows into a view model through ViewModelBinder (which knows the specifics of UI framework).</p><h2 id="ysN0U">Design-time, publish-time, run-time</h2><p>In Paperbits there are three clearly distinguished scopes:</p><p><b>Design-time</b> - This is the execution scope where components required for editing content are running.</p><p><b>Publish-time</b> - The scope in which static website and resources are being generated.</p><p><b>Run-time</b> - Kicks in when the published website is loaded into browser.</p><p>Components of each scope run independently and do not know of each other. They have separate DI containers, their own configurations, lifecycle, etc. They may even be powered by different UI frameworks.</p><p>In the demo project you can see respective files:</p><p><b>startup.[scope].ts </b>- a script where the components get bootstrapped;</p><p><b>config.[scope].json</b> - configuration for a scope;</p><p><b>webpack.[scope].js</b> - webpack definition for building scoped components;</p></div></div></div></section></div></div></div></section><section class="fguegjdyrw fguegjdyrw-sm fguegjdyrw-md fguegjdyrw-lg fguegjdyrw-xl"><div class="itenksdawv itenksdawv-md itenksdawv-xl itenksdawv-sm itenksdawv-lg"><div class="edxotpocrx edxotpocrx-md edxotpocrx-xl" role="article"><div class="ProseMirror"><h6 id="nUypk" class="text text-align-left">Resources</h6></div><nav class="inline-block"><div class="menu menu-vertical menu-6jz0j"><ul class="nav"><li class="nav-item"><a href="/wiki/getting-started" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Getting started</a></li><li class="nav-item"><a href="/features" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Features</a></li><li class="nav-item"><a href="/blog" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Blog</a></li><li class="nav-item"><a href="/faq" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">F.A.Q.</a></li></ul></div></nav></div><div class="utudytxhpx utudytxhpx-md utudytxhpx-xl" role="article"><div class="ProseMirror"><h6 id="I5DM1">License</h6></div><nav class="inline-block"><div class="menu menu-vertical menu-6jz0j"><ul class="nav"><li class="nav-item"><a href="/license" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Pricing</a></li><li class="nav-item"><a href="/license/commercial" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Commercial</a></li><li class="nav-item"><a href="/license/mit" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">MIT</a></li></ul></div></nav></div><div class="pbkgnilmky pbkgnilmky-md pbkgnilmky-xl" role="article"><div class="ProseMirror"><h6 id="NzUTl">Company</h6></div><nav class="inline-block"><div class="menu menu-vertical menu-6jz0j"><ul class="nav"><li class="nav-item"><a href="/about" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Our story</a></li><li class="nav-item"><a href="/privacy" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined">Privacy</a></li></ul></div></nav></div><div class="phdxuxmppj phdxuxmppj-md phdxuxmppj-xl" role="article"><div class="ProseMirror"><h6 id="5iL2e">Get in touch</h6></div><nav class="inline-block"><div class="menu menu-vertical menu-6jz0j"><ul class="nav"><li class="nav-item"><a href="mailto:support@paperbits.io" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Support</a></li><li class="nav-item"><a href="https://gitter.im/paperbits/discussions" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Gitter</a></li><li class="nav-item"><a href="https://twitter.com/paperbitsproj" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">Twitter</a></li><li class="nav-item"><a href="https://www.linkedin.com/company/paperbits" class="nav-link" data-bind="text: item.label, hyperlink: item.hyperlink, css: { 'nav-link-active': item.isActive }" target="undefined" rel="noopener noreferrer">LinkedIn</a></li></ul></div></nav></div></div></section><section class="avexptujrd avexptujrd-xl"><div class="pagpkkxixn pagpkkxixn-md pagpkkxixn-xl pagpkkxixn-sm pagpkkxixn-lg"><div class="cnpyyklfvm cnpyyklfvm-md" role="article"><div class="ProseMirror"><p class="text text-md-align-center text text-xl-align-center text text-align-center text-yysx7">Copyright © 2020 Paperbits LLC. All rights reserved.</p></div></div></div></section></div></body></html>